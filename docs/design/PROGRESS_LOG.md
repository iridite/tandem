# Progress Log

## Update Template

| Date       | Work IDs | Status                   | What Changed  | Verification     | Next                |
| ---------- | -------- | ------------------------ | ------------- | ---------------- | ------------------- |
| YYYY-MM-DD | W-###    | in_progress/done/blocked | short summary | tests/checks run | next immediate step |

## Current Entries

| Date       | Work IDs     | Status      | What Changed                                                                                                                                                                                                                                                                                                                                                                                                                              | Verification                                                                                                                                                                                                                                                             | Next                                                                       |
| ---------- | ------------ | ----------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | -------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------- | --------------------------------------------- |
| 2026-02-16 | W-007        | in_progress | Added memory governance contract types and design docs for architecture, routines, resources, memory, implementation flow, and packaging.                                                                                                                                                                                                                                                                                                 | `cargo check -p tandem-memory`                                                                                                                                                                                                                                           | Implement server handlers and enforce capability/partition checks          |
| 2026-02-16 | W-007        | done        | Implemented `/memory/put`, `/memory/promote`, `/memory/search` in `tandem-server` with partition validation, capability checks, scrub/audit behavior, event emission, and tests.                                                                                                                                                                                                                                                          | `cargo check -p tandem-server`; `cargo test -p tandem-server memory_put_enforces_default_write_scope -- --nocapture`; `cargo test -p tandem-server memory_put_then_search_in_session_scope -- --nocapture`                                                               | Start W-008 to harden scrubber + audit persistence                         |
| 2026-02-16 | W-008        | done        | Added audit retrieval endpoint (`GET /memory/audit`), scrub-block promotion behavior validation, and audit trail assertions in tests.                                                                                                                                                                                                                                                                                                     | `cargo check -p tandem-server`; `cargo test -p tandem-server memory_promote_blocks_sensitive_content_and_emits_audit -- --nocapture`                                                                                                                                     | Begin W-001 shared resource store schema + persistence                     |
| 2026-02-16 | W-007, W-008 | done        | Aligned governed memory policy to strict four-tier model by removing `global` from governance contracts and updating stale roadmap wording in `docs/MULTI_AGENTS.md`.                                                                                                                                                                                                                                                                     | `cargo check -p tandem-memory`; `cargo check -p tandem-server`                                                                                                                                                                                                           | Continue W-001 shared resource store schema + persistence                  |
| 2026-02-16 | W-001        | done        | Implemented shared resource persistence operations in `tandem-server` (`get/list/put/delete`) with namespace key validation, monotonic `rev`, `if_match_rev` conflict checks, atomic rollback on persist failure, and file-backed load/save.                                                                                                                                                                                              | `cargo fmt -p tandem-server`; `cargo test -p tandem-server shared_resource_ -- --nocapture`; `cargo check -p tandem-server`                                                                                                                                              | Start W-002 resource HTTP endpoints (`GET/PUT/PATCH/events`)               |
| 2026-02-16 | W-002        | done        | Added shared resource HTTP APIs in `tandem-server` (`GET /resource`, `GET                                                                                                                                                                                                                                                                                                                                                                 | PUT                                                                                                                                                                                                                                                                      | PATCH                                                                      | DELETE /resource/{\*key}`, `GET /resource/events`), wired `resource.updated`/`resource.deleted` engine events, added OpenAPI entries, and added HTTP tests for roundtrip + revision conflict. | `cargo fmt -p tandem-server`; `cargo test -p tandem-server resource_ -- --nocapture`; `cargo check -p tandem-server` | Start W-003 resource event contract snapshots |
| 2026-02-16 | W-003        | done        | Added resource event contract snapshot tests for `resource.updated` and `resource.deleted` payload shapes (including stable keys/rev/updatedBy and validated `updatedAtMs` type) in server HTTP tests.                                                                                                                                                                                                                                    | `cargo fmt -p tandem-server`; `cargo test -p tandem-server resource_ -- --nocapture`; `cargo check -p tandem-server`                                                                                                                                                     | Start Phase 1 status indexer item (new work item)                          |
| 2026-02-16 | W-013        | done        | Added runtime status indexer that subscribes to `EngineEvent` stream and persists derived `run/{sessionID}/status` resources from `session.run.started`, `session.run.finished`, and tool-related `message.part.updated` events. Added derivation unit tests and wired indexer lifecycle in server `serve`.                                                                                                                               | `cargo fmt -p tandem-server`; `cargo test -p tandem-server derive_status_index_update -- --nocapture`; `cargo check -p tandem-server`                                                                                                                                    | Start W-004 orchestrator crate scaffold                                    |
| 2026-02-16 | W-004, W-005 | done        | Added new shared crate `crates/tandem-orchestrator` and wired it into workspace. Implemented mission model primitives (`MissionSpec`, `MissionState`, `WorkItem`, `MissionEvent`, `MissionCommand`) plus reducer trait (`init`/`on_event`) with a compiling `NoopMissionReducer` scaffold and tests.                                                                                                                                      | `cargo check -p tandem-orchestrator`; `cargo test -p tandem-orchestrator -- --nocapture`; `cargo check -p tandem`                                                                                                                                                        | Start W-006 reviewer/tester gates in mission flow                          |
| 2026-02-16 | W-006        | done        | Implemented `DefaultMissionReducer` gate transitions for reviewer/tester flow. Successful review now requests tester gate, successful test marks `Done` and can complete mission, and denied review/test gates move work item to explicit `Rework` state with rework notice commands. Added deterministic reducer tests for these transitions.                                                                                            | `cargo fmt -p tandem-orchestrator`; `cargo test -p tandem-orchestrator -- --nocapture`; `cargo check -p tandem`                                                                                                                                                          | Start orchestrator-runtime integration work (new item)                     |
| 2026-02-16 | W-014        | done        | Added mission runtime API scaffold in `tandem-server` with `POST /mission`, `GET /mission`, `GET /mission/{id}`, and `POST /mission/{id}/event`. Server now stores mission states, applies `MissionEvent` through `DefaultMissionReducer`, and returns emitted `MissionCommand`s. Added HTTP tests for mission create/get and reviewer-denial rework transition through API.                                                              | `cargo fmt -p tandem-server`; `cargo test -p tandem-server mission_ -- --nocapture`; `cargo check -p tandem-server`; `cargo check -p tandem`                                                                                                                             | Start W-009 routines scheduler persistence + misfire policies              |
| 2026-02-16 | W-009        | done        | Added durable routine store and scheduler core in `tandem-server` (`RoutineSpec`, `RoutineMisfirePolicy`, persistence in `routines.json`, misfire evaluator for `skip/run_once/catch_up(n)`, scheduler loop emitting `routine.fired`, and routine history recording). Added misfire and persistence tests.                                                                                                                                | `cargo fmt -p tandem-server`; `cargo test -p tandem-server misfire -- --nocapture`; `cargo test -p tandem-server routine_ -- --nocapture`; `cargo check -p tandem-server`; `cargo check -p tandem`                                                                       | Start routine user control API scaffolding                                 |
| 2026-02-16 | W-015        | done        | Added routine API scaffold in `tandem-server`: `POST/GET /routines`, `PATCH/DELETE /routines/{id}`, `POST /routines/{id}/run_now`, `GET /routines/{id}/history`, `GET /routines/events`, plus OpenAPI entries and HTTP tests for create/run-now/history and pause patch flow.                                                                                                                                                             | `cargo fmt -p tandem-server`; `cargo test -p tandem-server routines_ -- --nocapture`; `cargo check -p tandem-server`; `cargo check -p tandem`                                                                                                                            | Begin Desktop + TUI routine controls wiring (W-010)                        |
| 2026-02-16 | W-010        | done        | Implemented routine controls across desktop and TUI: added sidecar routine DTOs + API methods, exposed Tauri commands/invoke handlers for list/create/patch/delete/run-now/history, added TUI engine client routine APIs, and added TUI slash commands (`/routines`, `/routine_create`, `/routine_edit`, `/routine_pause`, `/routine_resume`, `/routine_run_now`, `/routine_delete`, `/routine_history`) with help/autocomplete updates.  | `cargo fmt -p tandem-tui -p tandem`; `cargo check -p tandem-tui`; `cargo check -p tandem`                                                                                                                                                                                | Start W-011 connector side-effect policy gates for routines                |
| 2026-02-16 | W-011        | done        | Added routine side-effect policy gates: connector-backed routines now evaluate external integration + approval policy before firing. `run_now` and scheduler flows now emit `routine.fired`, `routine.approval_required`, or `routine.blocked` and write history states (`queued`, `pending_approval`, `blocked_policy`). Also fixed routine client response compatibility in Tauri/TUI wrappers and documented policy-gate CLI examples. | `cargo fmt -p tandem-server -p tandem -p tandem-tui`; `cargo test -p tandem-server routine_policy_ -- --nocapture`; `cargo test -p tandem-server routines_run_now_ -- --nocapture`; `cargo check -p tandem-server`; `cargo check -p tandem`; `cargo check -p tandem-tui` | Start W-012 desktop + TUI parity wiring to engine-hosted orchestrator APIs |
| 2026-02-16 | W-012        | done        | Added engine-hosted mission/orchestrator parity wiring across Desktop and TUI. Desktop sidecar + Tauri now expose mission APIs (`list/create/get/apply_event`). TUI client now supports mission API contracts and slash commands (`/missions`, `/mission_create`, `/mission_get`, `/mission_event`) to observe/control the same engine mission state.                                                                                     | `cargo fmt -p tandem -p tandem-tui`; `cargo check -p tandem`; `cargo check -p tandem-tui`                                                                                                                                                                                | Start next phase item (SDK ergonomics / control-center refinement)         |
| 2026-02-16 | W-012        | done        | Added mission runtime operator playbook section to `ENGINE_CLI_AWESOME_EXAMPLES.md` with end-to-end `create/list/get/apply event` HTTP flows and reviewer/tester gate examples for reducer-driven mission updates.                                                                                                                                                                                                                        | docs update only                                                                                                                                                                                                                                                         | Add client-level contract checks for mission endpoints                     |
| 2026-02-16 | W-012        | done        | Added TUI mission client contract tests for engine-hosted mission endpoints (`mission_list`, `mission_get`, `mission_create`, `mission_apply_event`) using mock HTTP server coverage in `tandem-tui`.                                                                                                                                                                                                                                     | `cargo fmt -p tandem-tui`; `cargo test -p tandem-tui mission_ -- --nocapture`; `cargo check -p tandem-tui`                                                                                                                                                               | Continue phase 6 control-center ergonomics                                 |
| 2026-02-16 | W-012        | done        | Added Desktop sidecar mission client contract tests for engine-hosted mission endpoints (`mission_list`, `mission_get`, `mission_create`, `mission_apply_event`) so Desktop parity is covered with mock HTTP responses.                                                                                                                                                                                                                   | `cargo fmt -p tandem`; `cargo test -p tandem sidecar::tests::mission_ -- --nocapture`; `cargo check -p tandem`                                                                                                                                                           | Continue phase 6 control-center ergonomics                                 |
| 2026-02-16 | W-012        | done        | Updated `ENGINE_TESTING.md` with Desktop mission sidecar test commands so parity checks are runnable from testing docs.                                                                                                                                                                                                                                                                                                                   | docs update only                                                                                                                                                                                                                                                         | Continue phase 6 control-center ergonomics                                 |
| 2026-02-16 | W-012        | done        | Enhanced `docs/example.html` browser playground with a Mission + Routine Ops panel for mission create/list/event apply and routine list workflows from one token-auth UI.                                                                                                                                                                                                                                                                 | docs/playground update only                                                                                                                                                                                                                                              | Continue phase 6 control-center ergonomics                                 |

## Cadence Rule

- Append one row per meaningful change-set.
- If blocked, include explicit blocker and required decision.
